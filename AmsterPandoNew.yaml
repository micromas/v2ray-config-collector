# ────────────────────────────────────────────────────────────────────────────────
# 1️⃣  Общие параметры
# ────────────────────────────────────────────────────────────────────────────────
port: 7893
socks-port: 7894
redir-port: 7895
allow-lan: true
mode: Rule
log-level: info
external-controller: 127.0.0.1:9191

# ────────────────────────────────────────────────────────────────────────────────
# 2️⃣  TUN (только если вы хотите использовать TUN‑режим)
# ────────────────────────────────────────────────────────────────────────────────
tun:
  enable: true
  stack: system          # можно использовать iptables, ipip, etc.
  dns-hijack:
    - 8.8.8.8:53
    - 8.8.4.4:53
  auto-route: true
  auto-detect-interface: true

# ────────────────────────────────────────────────────────────────────────────────
# 3️⃣  Провайдеры прокси
# ────────────────────────────────────────────────────────────────────────────────
proxy-providers:
  socks5-provider:
    type: http
    url: https://github.com/micromas/v2ray-config-collector/raw/refs/heads/main/socks5-proxies.yml
    interval: 3600000
    health-check: false
    tags:
      - socks5

# ────────────────────────────────────────────────────────────────────────────────
# 4️⃣  Группы прокси
# ────────────────────────────────────────────────────────────────────────────────
proxy-groups:
  - name: Auto
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 180000
    tolerance: 2000
    proxies:
      - socks5-provider

# ────────────────────────────────────────────────────────────────────────────────
# 5️⃣  Правила
# ────────────────────────────────────────────────────────────────────────────────
rules:
  - MATCH, Auto
